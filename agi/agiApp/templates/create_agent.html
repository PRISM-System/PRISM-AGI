<!DOCTYPE html>
{% load static %}
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>에이전트 생성 - PRISM-AGI</title>
    <link rel="icon" type="image/png" href="{% static 'img/image_logo.png' %}">

    <link rel="stylesheet" href="{% static 'css/reset.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/chat.css' %}">
    <link rel="stylesheet" href="{% static 'css/agent-creator.css' %}">
</head>
<body class="agent-creator-page">
    <div class="chat-layout">
        <!-- 좌측 사이드바 -->
        {% include 'partials/sidebar.html' %}
        
        <!-- 메인 에이전트 생성 영역 -->
        <div class="chat-main">
            <div class="agent-creator-container">
                <div class="creator-header">
                    <button class="back-button" id="backToChat">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 12H5l6-6V9l-7 7 7 7v-3l-6-6z"/>
                        </svg>
                        채팅으로 돌아가기
                    </button>
                    
                    <h1 class="creator-title">에이전트 생성</h1>
                    <p class="creator-subtitle">에이전트 생성 페이지</p>
                </div>

                <div class="creator-content">
                    <form class="agent-form" id="agentForm">
                        {% csrf_token %}
                        <!-- 좌측 컬럼: 기본 정보 -->
                        <div class="form-column-left">
                            <div class="form-section">
                                <h2 class="section-title">기본 정보</h2>
                                
                                <div class="form-group">
                                    <label for="agentName" class="form-label">에이전트 이름</label>
                                    <input type="text" id="agentName" name="name" class="form-input" 
                                           placeholder="예: 제조공정 최적화 에이전트" required>
                                    <small class="form-help">에이전트의 역할을 명확히 나타내는 이름을 입력하세요</small>
                                </div>

                                <div class="form-group">
                                    <label for="agentDescription" class="form-label">설명</label>
                                    <textarea id="agentDescription" name="description" class="form-textarea" 
                                              placeholder="이 에이전트가 수행하는 주요 기능과 목적을 설명하세요" 
                                              rows="4" required></textarea>
                                </div>

                                <div class="form-group">
                                    <label for="rolePrompt" class="form-label">역할 프롬프트</label>
                                    <textarea id="rolePrompt" name="role_prompt" class="form-textarea" 
                                              placeholder="에이전트가 수행할 역할과 동작 방식을 구체적으로 정의하세요" 
                                              rows="6" required></textarea>
                                    <small class="form-help">에이전트의 성격, 역할, 응답 스타일 등을 설정하세요</small>
                                </div>
                            </div>
                        </div>

                        <!-- 우측 컬럼: 요청사항 오면 반영 -->
                        <div class="form-column-right">
                            <div class="form-section">
                                <h2 class="section-title">개발 도구 추가</h2>
                            </div>
                        </div>

                        <!-- 액션 버튼 -->
                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="previewAgent">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                </svg>
                                미리보기
                            </button>
                            
                            <button type="submit" class="btn btn-primary" id="createAgent">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                                에이전트 생성
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 미리보기 모달 -->
    <div class="modal" id="previewModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>에이전트 미리보기</h3>
                <button class="modal-close" id="closePreview">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="previewContent">
                <!-- 미리보기 내용이 여기에 표시됩니다 -->
            </div>
        </div>
    </div>

    <script src="{% static 'js/chat.js' %}"></script>
    <script src="{% static 'js/agent-creator.js' %}"></script>
</body>
</html>
