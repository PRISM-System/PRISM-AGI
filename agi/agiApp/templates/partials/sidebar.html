{% load static %}
<div class="chat-sidebar" id="chatSidebar">
    <div class="sidebar-header">
        <div class="logo-container">
            <img src="{% static 'img/image_logo.png' %}" alt="PRISM-AGI Logo" class="sidebar-logo">
        </div>
        <button class="sidebar-toggle-btn" id="sidebarToggle">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/>
            </svg>
        </button>
    </div>
    
    <div class="chat-history" id="chatHistory">
        <div class="chat-item" id="newChatBtn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
            <span>새 채팅</span>
        </div>

        <!-- 에이전트 목록 섹션 -->
        <div class="menu-divider">
            <span class="divider-text">에이전트 목록</span>
        </div>
        
        <div id="agentsList">
            <!-- 에이전트들이 동적으로 여기에 추가됩니다 -->
            <!-- 로딩 상태는 JavaScript에서 동적으로 처리 -->
        </div>

        <!-- 에이전트 관리 섹션 -->
        <div class="menu-divider">
            <span class="divider-text">에이전트</span>
        </div>
        
        <div class="chat-item" id="createAgentMenu">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            <span>에이전트 생성</span>
        </div>
        
        <div class="chat-item" id="manageAgentsMenu">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-1c0-1.1.9-2 2-2s2 .9 2 2v1h8v-1c0-1.1.9-2 2-2s2 .9 2 2v1h2v2H2v-2h2zm8-10c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            <span>에이전트 관리</span>
        </div>
        
        <!-- 도구 목록 섹션 -->
        <div class="menu-divider">
            <span class="divider-text">도구</span>
        </div>

        <div class="chat-item" id="registerToolMenu">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4zM6.7 8.8c-.7.7-1.9.7-2.6 0-.7-.7-.7-1.9 0-2.6.7-.7 1.9-.7 2.6 0 .7.7.7 1.9 0 2.6z"/>
            </svg>
            <span>도구 등록</span>
        </div>
        
        <div class="chat-item" id="manageToolsMenu" onclick="goToManageTools()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
            </svg>
            <span>도구 관리</span>
        </div>

        <!-- 시스템 관리 섹션 -->
        <div class="menu-divider">
            <span class="divider-text">시스템</span>
        </div>
        
        <div class="chat-item" id="systemStatusMenu">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7.07,18.28C7.5,17.38 10.12,16.5 12,16.5C13.88,16.5 16.5,17.38 16.93,18.28C15.57,19.36 13.86,20 12,20C10.14,20 8.43,19.36 7.07,18.28M18.36,16.83C16.93,15.09 13.46,14.5 12,14.5C10.54,14.5 7.07,15.09 5.64,16.83C4.62,15.5 4,13.82 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,13.82 19.38,15.5 18.36,16.83M12,6C10.06,6 8.5,7.56 8.5,9.5C8.5,11.44 10.06,13 12,13C13.94,13 15.5,11.44 15.5,9.5C15.5,7.56 13.94,6 12,6M12,11A1.5,1.5 0 0,1 10.5,9.5A1.5,1.5 0 0,1 12,8A1.5,1.5 0 0,1 13.5,9.5A1.5,1.5 0 0,1 12,11Z"/>
            </svg>
            <span>실시간 모니터링(준비중)</span>
        </div>
        <!-- 기존 메뉴들 -->
        <div class="menu-divider">
            <span class="divider-text">채팅</span>
        </div>

        <!-- 채팅 세션 목록이 동적으로 생성됩니다 -->
        <div id="chatSessionsList">
            <!-- 로딩 상태 -->
            <div class="chat-item loading-sessions" id="loadingSessions" style="display: none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2v20"/>
                </svg>
                <span>채팅 로딩 중...</span>
            </div>
        </div>


        <!-- 기존 메뉴들 -->
        <div class="menu-divider">
            <span class="divider-text">로그</span>
        </div>
        
        <div class="chat-item" id="userLogsMenu" onclick="goToUserLogs()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
            </svg>
            <span>사용자 요청 및 응답 로그</span>
        </div>

        <div class="chat-item" id="serverLogsMenu" onclick="goToServerLogs()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z"/>
            </svg>
            <span>서버 로그</span>
        </div>

        <!-- 기존 메뉴들 -->
        <div class="menu-divider">
            <span class="divider-text">도움말</span>
        </div>
        
        <div class="chat-item" id="prismAgiIntro" onclick="window.open('https://github.com/PRISM-System/PRISM-AGI', '_blank')">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"/>
            </svg>
            <span>PRISM-AGI 소개</span>
        </div>
    </div>
    
    <div class="sidebar-footer">
        <div class="user-info">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            <span>user_1234</span>
        </div>
    </div>
</div>
